If you want to flash golden, and it is not working, you can use vivado_lab \
    -nolog \
    -nojournal \
    -tempDir /tmp/ \
    -mode batch \
    -notrace \
    -quiet \
    -source /scripts/program_flash.tcl \
    -tclargs "$HW_SERVER_URL" "$HW_TARGET_SERIAL" "/scripts/revert_to_golden.mcs"


If you don't know how to set it up, you can go to sn-stack/smartnic-hw/scripts and put the revert to golden image there.

More info on how to get the golden image: https://support.xilinx.com/s/article/71757?language=en_US

After placing the image there, you can modify the program_flash.sh scrip and change


vivado_lab \
    -nolog \
    -nojournal \
    -tempDir /tmp/ \
    -mode batch \
    -notrace \
    -quiet \
    -source /scripts/program_flash.tcl \
    -tclargs "$HW_SERVER_URL" "$HW_TARGET_SERIAL" "$MCSFILE_PATH



to 

vivado_lab \
    -nolog \
    -nojournal \
    -tempDir /tmp/ \
    -mode batch \
    -notrace \
    -quiet \
    -source /scripts/program_flash.tcl \
    -tclargs "$HW_SERVER_URL" "$HW_TARGET_SERIAL" "/scripts/revert_to_golden.mcs"


after a cold reboot, you will see the cards are back to golden.

Important notice, the golden image will not make the cards appear in XRT, as XRT needs an "XRT-friendly" shell. However, it'll make xbmgmt see the card, and from there, you can flash a new platform that works with XRT.
For more info on the golden image: https://docs.xilinx.com/r/en-US/ug470_7Series_Config/Golden-Image-Initial-System-Setup


______________________
Hi Mohammad, in case people enquire about this warning, please add an
FAQ item about it:
```
rlwrap: warning: your $TERM is 'xterm-256color' but rlwrap couldn't find it in the terminfo database. Expect some problems.
```

On Airfield, the answer is to add this to .profile
```
$ export TERM=xterm1
```

_______________________




